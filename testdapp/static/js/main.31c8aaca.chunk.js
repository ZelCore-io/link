(this["webpackJsonpsol-wallet-adapter-example"]=this["webpackJsonpsol-wallet-adapter-example"]||[]).push([[0],{113:function(e,n){},114:function(e,n){},133:function(e,n,t){"use strict";t.r(n);t(68);var r=t(7),a=t.n(r),o=t(62),c=t.n(o),i=t(1),s=t.n(i),u=t(3),l=t(13),d=t(12),p=(t(73),t(8)),f=t(9),b=t(10),m=t(21),w=t(32),h=t(34),v=t(63),g=t.n(v),_=t(16),y=t(11),j=t.n(y);var k=function(e){Object(w.a)(t,e);var n=Object(h.a)(t);function t(e,r){var a,o,c;if(Object(f.a)(this,t),a=n.call(this),o=Object(m.a)(a),a._handleMessage=function(e){if(a._injectedProvider&&e.source===window||e.origin===a._providerUrl.origin&&e.source===a._popup)if("connected"===e.data.method){var n=new _.b(e.data.params.publicKey);a._publicKey&&a._publicKey.equals(n)||(a._publicKey&&!a._publicKey.equals(n)&&a._handleDisconnect(),a._publicKey=n,a._autoApprove=!!e.data.params.autoApprove,a.emit("connect",a._publicKey))}else if("disconnected"===e.data.method)a._handleDisconnect();else if((e.data.result||e.data.error)&&a._responsePromises.has(e.data.id)){var t=a._responsePromises.get(e.data.id),r=Object(d.a)(t,2),o=r[0],c=r[1];e.data.result?o(e.data.result):c(new Error(e.data.error))}},a._handleConnect=function(){return a._handlerAdded||(a._handlerAdded=!0,window.addEventListener("message",a._handleMessage),window.addEventListener("beforeunload",a.disconnect)),a._injectedProvider?new Promise((function(e){a._sendRequest("connect",{}),e()})):(window.name="parent",a._popup=window.open(a._providerUrl.toString(),"_blank","location,resizable,width=460,height=675"),new Promise((function(e){a.once("connect",e)})))},a._handleDisconnect=function(){a._handlerAdded&&(a._handlerAdded=!1,window.removeEventListener("message",a._handleMessage),window.removeEventListener("beforeunload",a.disconnect)),a._publicKey&&(a._publicKey=null,a.emit("disconnect")),a._responsePromises.forEach((function(e,n){var t=Object(d.a)(e,2),r=(t[0],t[1]);a._responsePromises.delete(n),r("Wallet disconnected")}))},a._sendRequest=function(){var e=Object(u.a)(s.a.mark((function e(n,t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("connect"===n||o.connected){e.next=2;break}throw new Error("Wallet not connected");case 2:return r=o._nextRequestId,++o._nextRequestId,e.abrupt("return",new Promise((function(e,a){o._responsePromises.set(r,[e,a]),o._injectedProvider?o._injectedProvider.postMessage({jsonrpc:"2.0",id:r,method:n,params:Object(p.a)({network:o._network},t)}):(o._popup.postMessage({jsonrpc:"2.0",id:r,method:n,params:t},o._providerUrl.origin),o.autoApprove||o._popup.focus())})));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),a.connect=function(){return a._popup&&a._popup.close(),a._handleConnect()},a.disconnect=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o._injectedProvider){e.next=3;break}return e.next=3,o._sendRequest("disconnect",{});case 3:o._popup&&o._popup.close(),o._handleDisconnect();case 5:case"end":return e.stop()}}),e)}))),a.sign=function(){var e=Object(u.a)(s.a.mark((function e(n,t){var r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n instanceof Uint8Array){e.next=2;break}throw new Error("Data must be an instance of Uint8Array");case 2:return e.next=4,o._sendRequest("sign",{data:n,display:t});case 4:return r=e.sent,a=j.a.decode(r.signature),c=new _.b(r.publicKey),e.abrupt("return",{signature:a,publicKey:c});case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),a.signTransaction=function(){var e=Object(u.a)(s.a.mark((function e(n){var t,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._sendRequest("signTransaction",{message:j.a.encode(n.serializeMessage())});case 2:return t=e.sent,r=j.a.decode(t.signature),a=new _.b(t.publicKey),n.addSignature(a,r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),a.signAllTransactions=function(){var e=Object(u.a)(s.a.mark((function e(n){var t,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._sendRequest("signAllTransactions",{messages:n.map((function(e){return j.a.encode(e.serializeMessage())}))});case 2:return t=e.sent,r=t.signatures.map((function(e){return j.a.decode(e)})),a=new _.b(t.publicKey),n=n.map((function(e,n){return e.addSignature(a,r[n]),e})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),function(e){return"object"===typeof e&&null!==e}(c=e)&&function(e){return"function"===typeof e}(c.postMessage))a._injectedProvider=e;else{if(!function(e){return"string"===typeof e}(e))throw new Error("provider parameter must be an injected provider or a URL string.");a._providerUrl=new URL(e),a._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:r}).toString()}return a._network=r,a._publicKey=null,a._autoApprove=!1,a._popup=null,a._handlerAdded=!1,a._nextRequestId=1,a._responsePromises=new Map,a}return Object(b.a)(t,[{key:"publicKey",get:function(){return this._publicKey}},{key:"connected",get:function(){return null!==this._publicKey}},{key:"autoApprove",get:function(){return this._autoApprove}}]),t}(g.a);function E(e){return Array.prototype.map.call(e,(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var x=function(){var e=Object(r.useState)([]),n=Object(d.a)(e,2),t=n[0],o=n[1];function c(e){o((function(n){return[].concat(Object(l.a)(n),[e])}))}var i=Object(_.e)("devnet"),p=Object(r.useState)("https://link.zelcore.io"),f=Object(d.a)(p,2),b=f[0],m=f[1],w=Object(r.useMemo)((function(){return new _.a(i)}),[i]),h=Object(r.useMemo)((function(){return new k(b,i)}),[b,i]),v=Object(r.useMemo)((function(){try{return new k(window.solana,i)}catch(e){return console.log("Could not create injected wallet: ".concat(e)),null}}),[i]),g=Object(r.useState)(void 0),y=Object(d.a)(g,2),j=y[0],x=y[1],O=Object(r.useState)(!1),K=Object(d.a)(O,2)[1];function P(){return(P=Object(u.a)(s.a.mark((function e(){var n,t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(new _.d).add(_.c.transfer({fromPubkey:j.publicKey,toPubkey:j.publicKey,lamports:100})),c("Getting recent blockhash"),e.next=5,w.getRecentBlockhash();case 5:return n.recentBlockhash=e.sent.blockhash,c("Sending signature request to wallet"),n.feePayer=j.publicKey,e.next=10,j.signTransaction(n);case 10:return t=e.sent,c("Got signature, submitting transaction"),e.next=14,w.sendRawTransaction(t.serialize());case 14:return c("Submitted transaction "+(r=e.sent)+", awaiting confirmation"),e.next=18,w.confirmTransaction(r,"singleGossip");case 18:c("Transaction "+r+" confirmed"),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.warn(e.t0),c("Error: "+e.t0.message);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}function A(){return(A=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"Please sign this message for proof of address ownership.",c("Sending message signature request to wallet"),n=(new TextEncoder).encode("Please sign this message for proof of address ownership."),e.next=6,j.sign(n,"hex");case 6:c("Got signature: "+E(e.sent.signature)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0),c("Error: "+e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){if(j)return j.on("connect",(function(){K(!0),c("Connected to wallet "+j.publicKey.toBase58())})),j.on("disconnect",(function(){K(!1),c("Disconnected from wallet")})),j.connect(),function(){j.disconnect()}}),[j]),a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Wallet Adapter Demo"),a.a.createElement("div",null,"Network: ",i),a.a.createElement("div",null,"Waller provider:"," ",a.a.createElement("input",{type:"text",value:b,onChange:function(e){return m(e.target.value.trim())}})),j&&j.connected?a.a.createElement("div",null,a.a.createElement("div",null,"Wallet address: ",j.publicKey.toBase58(),"."),a.a.createElement("button",{onClick:function(){return P.apply(this,arguments)}},"Send Transaction"),a.a.createElement("button",{onClick:function(){return A.apply(this,arguments)}},"Sign Message"),a.a.createElement("button",{onClick:function(){return j.disconnect()}},"Disconnect")):a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return x(h)}},"Connect to Wallet"),a.a.createElement("button",{onClick:function(){return x(v)}},"Connect to Injected Wallet")),a.a.createElement("hr",null),a.a.createElement("div",{className:"logs"},t.map((function(e,n){return a.a.createElement("div",{key:n},e)}))))};c.a.render(a.a.createElement(x,null),document.getElementById("root"))},67:function(e,n,t){e.exports=t(133)},68:function(e,n,t){},73:function(e,n,t){},74:function(e,n){},78:function(e,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.31c8aaca.chunk.js.map